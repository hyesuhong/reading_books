# 요약

## 경계의 정의
1. 우리 코드와 외부 코드
2. 아는 코드와 모르는 코드

## 외부 코드 사용하기
- 제공자와 사용자의 입장 차이
	- 제공자: 적용성을 최대한 넓게 작성 ⇒ 더 많은 환경에서 사용 가능하도록
	- 사용자: 자신의 요구에 집중하는 인터페이스 기대
- 입장 차이로 인해 발생하는 문제
	1. 필요하지 않은 기능까지 제공
	2. 외부 코드가 변경될 경우 수정해야 할 코드 발생
- 저자의 해결 방법
	- 클래스를 만들어 캡슐화
	- 꼭 캡슐화하지 않더라도, 외부 코드를 이용하는 클래스 등에서 밖으로 노출하지 않을 것
	- 외부 코드의 인스턴스를 인수 혹은 반환값으로 사용하지 않을 것

## 학습 테스트
- 외부 코드를 익히는 방법
- 문서를 익히고 외부 코드와 통합하는 것을 동시에 하는 것보다, 테스트 코드를 작성해 API를 이해하는 방법
- 실제 코드와 동일한 방식으로 인터페이스를 사용하는 테스트 케이스 필요
- 장점
	- API가 예상대로 도는지 검증
	- 버전이 업데이트될 경우 우리 코드와 호환되는지 확인 가능

## 아직 존재하지 않는 코드
- 모르는 코드를 만났다면
	1. 대략 예상하는 인터페이스를 자체적으로 정의
	2. 인터페이스를 조작하는 컨트롤러를 분리
	3. API 사용을 캡슐화하는 Adapter 패턴 사용
- 위와 같은 설계의 장점
	- 예상 인터페이스 정의: 인터페이스 통제 가능, 높은 코드 가독성, 분명한 코드 의도
	- Adapter 패턴 사용: API가 바뀔 경우 수정할 코드를 모아, 수정에 용이
	- 테스트 용이: Adapter 대신에 가상의 클래스를 사용해 테스트 가능

## 깨끗한 경계
- 경계에서는 변경에 의한 수정이 자주 발생
- 경계에 위치하는 코드는 깔끔히 분리해 변경 비용이 커지지 않도록 주의
- 테스트 케이스를 작성해 기대치를 정의
⇒ 통제가 가능한 우리 코드에 의존하도록 경계를 관리할 것


---

# 발췌

> [!quote]
> 통제가 불가능한 외부 패키지에 의존하는 대신 통제가 가능한 우리 코드에 의존하는 편이 훨씬 좋다. 자칫하면 오히려 외부 코드에 휘둘리고 만다.
> __
> 152p.

---

# 메모

## Adapter 패턴
- 클래스의 인터페이스를 사용자가 기대하는 다른 인터페이스로 변환하는 패턴
- 호환성이 없는 인터페이스 때문에 함께 동작할 수 없는 클래스들이 함께 동작하도록 해준다.