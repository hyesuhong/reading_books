# 요약

## 클래스 체계
### 표준 자바 관례
1. 변수 목록
	1. 정적 공개 상수
	2. 정적 비공개 변수
	3. 비공개 인스턴스 변수
2. 공개 함수
3. 비공개 함수
### 캡슐화
- 변수와 유틸리티 함수는 공개하지 않는 편이 좋음
- 만약 테스트 등에 필요하다면 최후의 수단으로 `protected` 로 선언

## 클래스는 작아야 한다
### 책임
- 클래스 크기의 기준
- 크기를 가늠할 수 있는 방법
	1. 이름: 간결한 이름이 떠오르지 않는다면 크기가 너무 큰 것
	2. 설명: 만일(`if`), 그리고(`and`), ~하며(`or`), 하지만(`but`)을 사용하지 않고 설명이 가능할 것
### 단일 책임 원칙(SRP; Single Responsibility Principle)
> 클래스나 모듈을 변경할 이유가 하나뿐이어야 한다
- 변경할 이유를 파악하면 추상화가 쉬워짐
### 응집도(Cohesion)
- 한 모듈 내에 필요한 함수와 데이터들의 친화력을 측정하는 척도
- 몇몇 메서드만 사용하는 변수가 많아질 때 = 새로운 클래스로 쪼개야 한다는 신호
- 응집도를 유지하면 클래스를 분리하기 쉬워짐
- 저자가 응집도를 기준으로 리팩터링하는 방법
	1. 원본의 동작을 검증하는 테스트 케이스 작성
	2. 한 번에 하나씩 코드 변경
	3. 코드 변경할 때마다 테스트

## 변경하기 쉬운 클래스
- 정리된 클래스 = 깨끗한 시스템 = 변경에 따른 위험 감소
- 새로운 기능이 추가될 수 있거나 기능이 수정될 가능성이 있다면 클래스를 분리
	- SRP와 OCP를 지원
	- 클래스를 분리한다면 확장에는 유연하고 기존 시스템은 많이 건드리지 않는 구조가 만들어짐
- 변경으로부터 격리
	- 구현에 의존하는 클래스는 변경에 취약
	- 인터페이스와 추상 클래스를 사용해 변경에 의한 영향으로부터 격리
	- 결합도를 낮추는 것을 권장
		- 테스트를 더 쉽게 할 수 있음
		- 유연성과 재사용성이 높아짐
		- DIP(Dependency Inversion Principle)를 따르는 클래스

---

# 발췌

> [!quote]
> 큰 클래스 몇 개가 아니라 작은 클래스 여럿으로 이뤄진 시스템이 더 바람직하다. 작은 클래스는 각자 맡은 책임이 하나며, 변경할 이유가 하나며, 다른 작은 클래스와 협력해 시스템에 필요한 동작을 수행한다.
> __
> 177p.

> [!quote]
> 가장 먼저, 원래 프로그램의 정확한 동작을 검증하는 테스트 슈트를 작성했다. 그런 다음, 한 번에 하나씩 수 차례에 걸쳐 조금씩 코드를 변경했다. 코드를 변경할 때마다 테스트를 수행해 원래 프로그램과 동일하게 동작하는지 확인했다. 조금씩 원래 프로그램을 정리한 결과 최종 프로그램이 얻어졌다.
> __
> 185p.

> [!quote]
> 새 기능을 수정하거나 기존 기능을 변경할 때 건드릴 코드가 최소인 시스템 구조가 바람직하다. 이상적인 시스템이라면 새 기능을 추가할 때 시스템을 확장할 뿐 기존 코드를 변경하지는 않는다.
> __
> 188p.